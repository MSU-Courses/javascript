# Погружение событий

**Погружение событий (event capturing)** - это механизм в JavaScript, который позволяет обрабатывать события на фазе
погружения, то есть на этапе перехода события от корневого элемента до целевого элемента в дереве DOM.

В отличие от [всплытия событий](112_events_ascent.md), при погружении события обрабатываются сверху вниз, начиная с
корневого элемента и заканчивая целевым элементом.

В противоположность всплытию, погружение событий является менее распространенным и используется реже. Однако, оно может
быть полезным в некоторых случаях, особенно при разработке сложных интерфейсов или веб-приложений.

Другими словами, когда мы говорим о погружении событий в JavaScript, давайте представим, что у нас есть элементы на
веб-странице, размещенные друг над другом, словно ящики в стопке.

1. Если на верхнем ящике происходит событие, например клик мышкой, JavaScript начинает проверять, есть ли у этого ящика
   обработчик для этого события.
2. Если нет, он спускается на следующий ящик вниз и снова проверяет.
3. Этот процесс повторяется до тех пор, пока не найдется ящик с обработчиком, или пока не дойдет до самого нижнего
   ящика.

Для использования погружения событий в JavaScript, вы можете добавить обработчик события с параметром `capture`, который
говорит браузеру, что вы хотите использовать погружение.

```js
element.addEventListener('click', myFunction, {capture: true});
// либо можно просто `true`
element.addEventListener('click', myFunction, true);
```

**Например**, если у нас есть HTML-разметка с элементами вложенными друг в друга:

```html

<div id="outer">
    <div id="inner">Нажми меня</div>
</div>
```

И JavaScript-код

```js
document.getElementById('outer').addEventListener('click', function () {
    console.log('Outer div clicked');
}, true);

document.getElementById('inner').addEventListener('click', function () {
    console.log('Inner div clicked');
});
```

Когда мы нажимаем на внутренний элемент, в консоль будет выведено

```
Outer div clicked
Inner div clicked
```

