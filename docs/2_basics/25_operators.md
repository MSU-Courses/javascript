# Операторы в JS

Операторы представляют собой еще одну важную тему в JavaScript. Большинство базовых операторов вам уже знакомы из курса по основам программирования. Мы кратко пройдемся по ним и затем рассмотрим некоторые особенности.

Прежде чем углубляться в изучение темы, рассмотрим два основополагающих термина, которые скорее всего Вам известны.

> [!NOTE]
> **Оператор** в программировании представляет собой символ или ключевое слово, которое выполняет операцию над одним или несколькими операндами для получения результата.
> 
> **Операнды** - это значения или выражения, с которыми оператор работает.
> 
> Например, в выражении `5 + 3`, оператор `+` выполняет операцию сложения над операндами `5` и `3`.

Теперь, когда вы понимаете, о чем мы будем говорить, давайте приступим к рассмотрению операторов

## `Унарные` и `Бинарные` операторы

Для рассмотрения операторов, необходимо понимать разницу между унарным и бинарным операторами.

> [!NOTE]
> `Унарным оператором` называется оператор, который применяется к одному операнду. Например, унарный минус "-" меняет знак числа на противоположный.

```js
let x = 3;
x = -x; // унарный минус
```

> [!NOTE]
> `Бинарным оператором` называется оператор, который применяется к двум операндам. 

```js
const x = 3;
const y = 5;
console.log(x - y); // бинарный минус
```

## Математические операторы

В настоящее время стандартом определены следующие операторы:

* Сложение `+`
* Вычитание `-`
* Умножение `*`
* Деление `/`
* Возведение в степень `**`
* Взятие остатка от деления `%`

Операторы сложения, вычитания, умножения и деления являются базовыми и очень распространёнными, их работу мы не будем подробно рассматривать.

### Возведение в степень

Одним из нестандартных операторов является оператор **возведения в степень**. Оператор был добавлен в стандарте EcmaScript 2016 (ES7).

**Например**: 

`2 ** 3` => $2^3$
`3 ** 4` => $3^4$
`9 ** (1/2)` => $9^{1/2}$ (или $sqrt(9)$)

### Оператор взятия остатка от деления

**Оператор взятия остатка от деления**, также присутствующий в C++, представляет собой математическую операцию, которая возвращает остаток от деления одного числа на другое.

```js
5 % 2; // Результат: 1
6 % 8; // Результат: 6
```

## Унарный плюс

Один из многих непонятных операторов - **унарный плюс**. На самом деле, если его использовать с числом, он ничего не делает:
```js
+5; // Результат: 5
```

Он применяется, когда мы хотим преобразовать строку в число и служит заменой функции `Number(x)`.

```js
let age = "22";
console.log(+age); // преобразует строку "22" в число 22
```

## Оператор присваивания

**Оператор присваивания** (`=`) используется для присваивания значения переменной. **Например**, в выражении x = 5;, оператор присваивания = присваивает переменной x значение 5

С оператором присваивания вы давно знакомы в C++.

> [!TIP]
> Как было сказано ранее, в JS, все операторы возвращают значение. Например, оператор сложения `+` возвращает сумму двух чисел, оператор умножения `*` возвращает произведение двух чисел.

Оператор присваивания также **возвращает значение**, которое было присвоено переменной. 

```js
let x = 10;
let y = (x = 5); // переменной x присваивается значение 5, а результат операции присваивания (т.е. значение 5) возвращается и присваивается переменной y
console.log(y); // Результат: 5
console.log(x); // Результат: 5
```

Таким образом будут работать следующие конструкции.
```js
let x, y, z, w;
x = y = z = w = 2 + 2;
// x = 4, y = 4, z = 4, w = 4
// присваивание выполняется справа налево
```

## Сокращенные операторы

**Сокращенные операторы** - это синтаксические сокращения для операций присваивания, такие как +=, -=, *= и /=, которые позволяют выполнять операцию и присваивание значения одновременно.
```js
let x = 5;
x += 3; // x становится равным 8 (x = x + 3)
x -= 2; // x становится равным 6 (x = x - 2)
x *= 4; // x становится равным 24 (x = x * 4)
x /= 2; // x становится равным 12 (x = x / 2)
```

## Инкремент и Декремент

**Инкремент и декремент** - это унарные операторы, используемые для увеличения или уменьшения значения переменной на 1.

**Инкремент** увеличивает значение переменной на 1, а **декремент** уменьшает его на 1.

> [!NOTE]
> Слова "инкремент" и "декремент" происходят от латинских слов "incrementum" (увеличение) и "decrementum" (уменьшение) соответственно. Эти термины были адаптированы для использования в программировании для обозначения операций увеличения и уменьшения значения переменной на 1.

```js
let x = 5;
x++; // x становится равным 6 (инкремент)
console.log(x); // Результат: 6

let y = 10;
y--; // y становится равным 9 (декремент)
console.log(y); // Результат: 9
```

**Инкремент и декремент** могут быть использованы как в `префиксной`, так и в `постфиксной` форме.

```js

let a = 5;
let b = ++a; // увеличиваем a на 1 и присваиваем значение b
// a = 6
// b = 6

let c = 5;
let d = c++; // присваиваем значение c переменной d, затем увеличиваем c на 1
// c = 6
// d = 5
```

## Операторы сравнения

**Операторы сравнения** используются для сравнения двух значений и возвращают логическое значение true или false в зависимости от результата сравнения. 

* `>` (больше)
* `<` (меньше)
* `>=` (больше или равно)
* `<=` (меньше или равно

## `Строгое` и `нестрогое` сравнение

Важными логическими операторами являются операторы строгого `===` (`!==` — не равно) и нестрогого сравнения `==` (`!=`).

**Строгое сравнение** (`===` и !`==`) в JavaScript сравнивает значения операндов и их типы данных. Это значит, что оба значения должны:
1. быть одинакового типа 
2. иметь одинаковое значение 

И только тогда они считаются равными.

> [!NOTE]
> Оператор строгого равенства === проверяет равенство без приведения типов.

**Нестрогое сравнение** (`==` и `!=`) _сравнивает только значения операндов_, без учета их типов данных. В этом случае, если значения могут быть приведены к одному типу, они считаются равными.

```js
console.log(5 === 5); // true (строгое сравнение чисел)
console.log(5 === "5"); // false (строгое сравнение числа и строки)
console.log(5 == "5"); // true (нестрогое сравнение числа и строки, значения могут быть приведены к одному типу)
console.log(5 !== "5"); // true (строгое сравнение числа и строки)
console.log(5 != "5"); // false (нестрогое сравнение числа и строки, значения могут быть приведены к одному типу)
```


## Логические операторы

На данный момент в стандарте ECMAScript определены следующие **логические операторы**:

* `||` (ИЛИ): Возвращает true, если хотя бы один из операндов истинный.
```js
false || true; // Результат: true
```     
* `&&` (И): Возвращает true, если оба операнда истинные.
```js
true && false; // Результат: false
```
* `!` (НЕ): Инвертирует значение операнда (делает истинное значение ложным и наоборот).
```js
!true; // Результат: false
```
* `??` (Оператор нулевого слияния): Возвращает правый операнд, если левый операнд `null` или `undefined`, иначе возвращает левый операнд.
```js
// Пример №1
const defaultColor = "blue";
const userPreferredColor = undefined;
// Если пользователь не выбрал предпочтительный цвет (т.е. он undefined), используется значение defaultColor (blue)
const color = userPreferredColor ?? defaultColor;

// Пример №2
const age = 18;
age ?? console.log("Ваш возраст не указан!"); // если `age` равен null или undefined то будет выполнена вторая часть выражения, и на консоль будет выведено сообщение "Ваш возраст не указан!".
```

## Ленивые вычисления

Ленивые вычисления (ленивый оператор), это техника, которая используется для улучшения производительности и оптимизации выполнения кода.

В выражении с логическим оператором `||` (ИЛИ) или `&&` (И), если результат уже может быть определен после оценки первого операнда, второй операнд не вычисляется.

**Например**:
1. В выражении `A || B` (где A и B - выражения), если `A = true`, то второй операнд `B` **не вычисляется**, так как результат всего выражения уже известен (равен true). 
2. В выражении `A && B && C`, оператор `&&` будет продолжать оценивать операнды до тех пор, пока не встретит первый операнд, который будет равен `false`. В этом случае он вернет false без оценки оставшихся операндов, так как и так ясно, что все выражение является `false`.

Такая оптимизация позволяет избежать лишних вычислений и ускорить выполнение программы.