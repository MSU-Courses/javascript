# Объекты в JS

Ранее мы обсуждали, что в JavaScript имеется _8_ типов данных. Из них _6_ уже были подробно рассмотрены, включая примитивные типы (строки, числа и т. д.), которые относительно просты для понимания.

Однако существуют еще два типа: `object` и `null`. Именно тип `object` - это тот самый тип данных, о котором мы говорили в предыдущих главах, а про тип null мы поговорим чуть позже.

## Объекты в JavaScript

> [!IMPORTANT]
> **Объект в JavaScript** - это набор свойств, представленных в виде пар ключ-значение.

Как мы уже рассмотрели, объект представляет собой структуру данных, у которой есть `ключ` (название свойства) и `значение` (значение свойства). Например, рассматривая машину, `цвет` - ключ, `белый` - значение; `цвет: белый` - свойство.

## Создание объекта

Для создания объекта используются фигурные скобки: `{ ... }`, в которые записываются свойства. Свойства не обязательны, объект может быть пустым и позднее к нему могут быть добавлены.

```javascript
// Объект `игрок`
const player = {
    username: "Alex",
    health: 100,
    xp: 50,
};

// Пустой объект `машина`
const car = {};
```

Есть еще некоторые способы создания объекта.
```js
const player = new Object(); // Синтаксис "конструктор объекта".
const user = Object.create({}); // Создание объекта, определенное стандартом ECMAScript 5.
```

Обычно для создания объекта используется вариант с фигурными скобками `{ ... }`, называемый **литералом объекта** или **литеральной нотацией**.

## Свойства и литералы объекта

Как было упомянуто ранее, мы можем определить свойства объекта непосредственно во время его создания.

```javascript
const player = {
    // Ключ `username`, значение "Crico"
    username: "Crico",
    // Ключ `health`, значение 100
    health: 100,
    // ...
}
```

> [!TIP]
> Ключи объекта называются именами или идентификаторами объекта.

### Получение свойств

Существует два основных варианта, как получить свойство:

* Dot notation (точечная запись)
* Bracket notation (скобочная запись)
```js
const player = {
    username: "Mary",
    // ...
};

// dot notation
console.log(player.username); // "Mary"
// bracket notation
console.log(player["username"]); // "Mary"
```

### Удаление свойств

Для удаления свойств объекта используется ключевое слово `delete`.

```javascript
const player = {
    username: "Kate",
    age: 25,
}

delete player.age; // Удаляем свойство `age`
console.log(player.age); // Выведет `undefined`
```

### Добавление свойств

Для добавления свойств в объект можно использовать как точечную нотацию, так и скобочную нотацию.

```js
const car = {};

// Используем точечную нотацию для добавления свойства
car.brand = "Toyota";

// Используем скобочную нотацию для добавления свойства
car["model"] = "Camry";

console.log(car); // { brand: "Toyota", model: "Camry" }
```

### Имена свойств

Имена свойств (ключей) могут состоять из одного или нескольких слов. Мы уже рассмотрели случай с ключом из одного слова. 

Теперь давайте посмотрим, как работать с ключом, состоящим из нескольких слов.

> [!NOTE]
> Если имя свойства состоит из двух и более слов, его необходимо заключить в кавычки и обращаться к нему только с помощью `скобочной нотации`.

```javascript
const user = {
    "video likes": 100,
};

// Обращение к свойству
// console.log(user.video likes) - ошибка
console.log(user["video likes"]); // 100
```

### Вычисляемые свойства

Иногда возникает необходимость, чтобы ключи были вычисляемыми (или вычисляемыми свойствами).

Это означает, что ключ можно получить из переменной или выражения.

```js
const gun = "sword";

// Создаем объект inventory, где ключ [gun] является вычисляемым, и его значение равно 2
const inventory = {
    [gun]: 2, // ключ "sword" вычисляется из переменной gun
}

console.log(inventory.sword);
```

Можно использовать более сложные выражения при вычислении ключей.
```js
const gun = "sword";
const inventory = {
    ["mini" + gun]: 4,
}
console.log(inventory.minisword); // 4
```

### Свойство из переменной

Возникают ситуации, когда мы создаем объекты и хотим использовать переменные для определения их свойств, и имена свойств должны соответствовать именам переменных. **Например**, если у нас есть объект `cars` и переменная `brand`, которая содержит значение `"toyota"`, мы хотим создать свойство в объекте с тем же именем, что и значение переменной.

Мы можем сделать это очень легко следующим образом.
```js
const brand = "toyota";
const car = {
    // ключ "brand" с значением переменной brand
    // brand: "toyota"
    brand: brand,
}
```

В данном случае возникает некоторая избыточность. Мы фактически дублируем одно и то же слово дважды, что может сделать код менее читабельным.

Существует более удобный синтаксис для таких случаев. Вместо `brand: brand` можно написать просто `brand`.

```js
const brand = "toyota";
const model = "auris";

// // Имена ключей объекта (brand и model) совпадают с именами переменных
// и их значения автоматически подставляются.
const car = {
    brand,
    model,
    color: "blue",
}

console.log(car.brand, car.model); // "toyota", "auris"
```

## Проверка свойств

Даже если свойства не существует, то мы все равно можем обращаться, только выражение вернет `undefined`.


Можно выполнить проверку наличия свойства в объекте следующим образом:

```js
if (car.brand === undefined) {
    // ...
}
```

Более читабельным приемом является использование оператора `in`.
```js
const car = {};

// Проверка, есть ли свойство "brand" в объекте `car`.
if ("brand" in car) {
    // ...
}
```

## Оператор `for ... of`

Для перебора свойств объекта используется цикл `for...in`:

```js
const player = {
    username: "Alex",
    age: 25,
    health: 100,
}
for(let key in player) {
    console.log(key, player[key]);
    // "username", "Alex"
    // "age", 25
    // "health", 100
}
```

В цикле `for...in` переменная key принимает имя каждого свойства объекта, а через player[key] получается значение каждого свойства.