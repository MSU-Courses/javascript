# Лабораторная работа №2. Реализация базовых методов работы с массивами

## Цель работы

Целью данной работы является изучение принципов реализации базовых методов работы с массивами с использованием колбэков: `forEach`, `map`, `filter`, `find`, `some`, `every`, `reduce`, а также закрепление навыков написания функций с корректным возвратом результатов и обработкой граничных случаев.

## Условие

### Примечание

> Запрещено использовать встроенные методы массивов: `forEach`, `map`, `filter`, `find`, `some`, `every`, `reduce`.

Разрешено использовать:

- цикл `for`;
- свойство `length`;
- обращение к элементам массива по индексу;
- метод `push` для формирования нового массива.

### Рекомендация по выполнению задания

_Рекомендация_.Если задание кажется сложным или вы не до конца понимаете, как реализовать первую функцию (`forEach`), то вы можете воспользоваться инструментами _Искусственного Интеллекта_ (_например_, ChatGPT) в качестве помощника для понимания и написания кода для _первой функции_. Однако, для остальных функций рекомендуется самостоятельно реализовать код, используя знания, полученные при реализации `forEach`, и избегая прямого копирования решений из внешних источников. Это поможет вам лучше понять концепцию колбэков и научиться применять ее на практике.

Ниже приведён пример _корректного запроса к ИИ_, который поможет вам не просто получить код, а понять его:

```markdown
Сделай реализацию функции `forEach(array, callback)` на JavaScript **без использования встроенных методов массивов** (нельзя `Array.prototype.forEach`, `map`, `filter` и т.п.).

**Требования к реализации:**

1. Используй **обычный цикл `for`**.
2. Проверь, что `array` — это массив (`Array.isArray`).
3. Проверь, что `callback` — это функция (`typeof callback === "function"`).
4. Для каждого элемента массива вызови колбэк **строго в таком виде**:
   `callback(element, index, array)`
5. Функция **ничего не возвращает** (возвращаемое значение должно быть `undefined`).

**Как оформить ответ:**

- Сначала выдай **полный код функции** в одном блоке.
- Затем подробно объясни, зачем нужна данная функция, и почему без неё сложно работать с массивами.
- Затем сделай раздел **“Построчное объяснение”** и объясни **каждую строку**, зачем она нужна.
- Затем раздел **“Какие ошибки возможны”**:
  - какие ошибки могут возникнуть при неправильных аргументах,
  - какие `TypeError`/`Error` стоит выбрасывать и почему.

- Затем раздел **“Пример использования”**:
  - покажи минимум 2 примера (обычный и с ошибкой),
  - выведи ожидаемый результат (`console.log`).
```

### 1.1. Вывод массива в консоль

Реализуйте функцию `printArray(array)`, которая принимает массив и *выводит его элементы в консоль* (`console.log`).

Вывод на экран должен быть в виде:

```
Element 0: value x
Element 1: value y
Element 2: value z
...
```

где `x`, `y`, `z` - это значения элементов массива, а `0`, `1`, `2` - их индексы.

Теперь, реализуйте функцию `printArray1(array)`, которая выводит элементы массива в консоль в виде:

```
0:  x
1:  y
2:  z
...
```

где `x`, `y`, `z` - это значения элементов массива, а `0`, `1`, `2` - их индексы.

Как можно видеть, для каждого формата вывода требуется своя функция. Это связано с тем, что форматирование вывода может быть разным в зависимости от контекста использования функции. Например, в одном случае может потребоваться более подробное описание элемента (как в `printArray`), а в другом - более краткое (как в `printArray1`). 

В данном случае вам придется реализовывать две функции, дублируя большую часть логики, что неэффективно и может привести к ошибкам при поддержке кода. 

Теперь попробуйте реализовать функцию, указанную ниже (`1.2`). Она должна быть универсальной.

### 1.2. Функция `forEach(array, callback)`

Функция выполняет переданный колбэк для каждого элемента массива.

_Требования_:

- Функция принимает два аргумента:
  - `array` - массив
  - `callback` - функция обратного вызова
- Для каждого элемента массива вызывает переданный колбэк.
  - Колбэк должен принимать три аргумента: текущий элемент, индекс элемента и весь массив.

    ```js
    callback(element, index, array);
    ```

- Функция ничего не возвращает (возвращаемое значение - `undefined`).
- Обход массива должен происходить слева направо.

_Пример использования:_

```javascript
forEach([1, 2, 3], (element, index, array) => {
  console.log(`Element: ${element}, Index: ${index}`);
});

// Output:
// Element: 1, Index: 0
// Element: 2, Index: 1
// Element: 3, Index: 2
```

### 2. Функция `map(array, callback)`

Функция создает новый массив, _содержащий результаты вызова колбэка для каждого элемента исходного массива_. Простыми словами, `map` преобразует каждый элемент массива в новый элемент на основе логики, определенной в колбэке.

Например, если у вас есть массив чисел и вы хотите получить массив их квадратов, вы можете использовать `map` для этого преобразования.

_Требования_:

- Функция принимает два аргумента:
  - `array` - массив
  - `callback` - функция обратного вызова
- Для каждого элемента массива вызывает переданный колбэк.
  - Колбэк должен принимать три аргумента: текущий элемент, индекс элемента и весь массив.

    ```js
    callback(element, index, array);
    ```

  - _Второй и третий аргументы являются необязательными_. Если колбэк принимает только один аргумент, он должен работать корректно.

- Функция возвращает новый массив, содержащий результаты вызова колбэка для каждого элемента.
- Длина результирующего массива должна совпадать с длиной исходного.

_Пример использования:_

```javascript
const numbers = [1, 2, 3];
const squared = map(numbers, (element) => element * element);
console.log(squared); // [1, 4, 9]
```

### 3. Функция `filter(array, callback)`

Функция формирует новый массив из элементов, удовлетворяющих условию, заданному в колбэке. Простыми словами, `filter` позволяет отфильтровать элементы массива на основе логики, определенной в колбэке.

Например, если у вас есть массив чисел и вы хотите получить массив только четных чисел, вы можете использовать `filter` для этого.

_Требования_:

- Функция принимает два аргумента:
  - `array` - массив
  - `callback` - функция обратного вызова
- Для каждого элемента массива вызывает переданный колбэк.
  - Колбэк должен принимать три аргумента: текущий элемент, индекс элемента и весь массив.

    ```js
    callback(element, index, array);
    ```

  - _Второй и третий аргументы являются необязательными_. Если колбэк принимает только один аргумент, он должен работать корректно.
  - Колбэк должен возвращать `true`, если элемент удовлетворяет условию, и `false` в противном случае.

- Функция возвращает новый массив, содержащий все элементы, для которых колбэк вернул значение `true`.
- Длина результирующего массива может быть меньше или равна длине исходного.

_Пример использования:_

```javascript
const numbers = [1, 2, 3, 4, 5];
const evenNumbers = filter(numbers, (element) => element % 2 === 0);
console.log(evenNumbers); // [2, 4]
```

### 4. Функция `find(array, callback)`

Функция возвращает первый элемент массива, удовлетворяющий условию.

Например, если у вас есть массив чисел и вы хотите найти первое четное число, вы можете использовать `find` для этого.

_Требования_:

- Функция принимает два аргумента:
  - `array` - массив
  - `callback` - функция обратного вызова
- Для каждого элемента исходного массива (`array`) вызывает переданный колбэк.
  - Колбэк должен принимать три аргумента: текущий элемент, индекс элемента и весь массив.

    ```js
    callback(element, index, array);
    ```

  - _Второй и третий аргументы являются необязательными_. Если колбэк принимает только один аргумент, он должен работать корректно.

  - Колбэк должен возвращать `true`, если элемент удовлетворяет условию, и `false` в противном случае.

- Функция возвращает первый элемент, для которого колбэк вернул значение `true`. Если такой элемент не найден, возвращает `undefined`.

_Пример использования:_

```javascript
const numbers = [1, 2, 3, 4, 5];
const firstEven = find(numbers, (element) => element % 2 === 0);
console.log(firstEven); // 2
```

### 5. Функция `some(array, callback)`

Функция проверяет, существует ли хотя бы один элемент массива, удовлетворяющий условию.

Например, если у вас есть массив чисел и вы хотите проверить, есть ли в нем хотя бы одно четное число, вы можете использовать `some` для этого.

_Требования_:

- Принимает два аргумента:
  - `array` - массив
  - `callback` - функция обратного вызова
- Для каждого элемента массива вызывает переданный колбэк.
  - Колбэк должен принимать три аргумента: текущий элемент, индекс элемента и весь массив.

    ```js
    callback(element, index, array);
    ```

  - _Второй и третий аргументы являются необязательными_. Если колбэк принимает только один аргумент, он должен работать корректно.
  - Колбэк должен возвращать `true`, если элемент удовлетворяет условию, и `false` в противном случае.

- Функция возвращает `true`, если колбэк вернул значение `true` для любого элемента массива, и `false` в противном случае.
- Обход массива должен происходить слева направо и прекращаться при первом совпадении.

_Пример использования:_

```javascript
const numbers = [1, 2, 3, 4, 5];
const hasEven = some(numbers, (element) => element % 2 === 0);
console.log(hasEven); // true
```

### 6. Функция `every(array, callback)`

Функция проверяет, удовлетворяют ли все элементы массива заданному условию.

Например, если у вас есть массив чисел и вы хотите проверить, все ли числа четные, вы можете использовать `every` для этого.

_Требования_:

- Принимает два аргумента:
  - `array` - массив
  - `callback` - функция обратного вызова
- Для каждого элемента массива вызывает переданный колбэк.
  - Колбэк должен принимать три аргумента: текущий элемент, индекс элемента и весь массив.

    ```js
    callback(element, index, array);
    ```

  - _Второй и третий аргументы являются необязательными_. Если колбэк принимает только один аргумент, он должен работать корректно.
  - Колбэк должен возвращать `true`, если элемент удовлетворяет условию, и `false` в противном случае.

- Возвращает `true`, если колбэк вернул значение `true` для всех элементов массива, и `false` в противном случае.
- Обход массива должен происходить слева направо и прекращаться при первом несоответствии.

_Пример использования:_

```javascript
const numbers = [2, 4, 6];
const allEven = every(numbers, (element) => element % 2 === 0);
console.log(allEven); // true
```

### (_Дополнительно_) 7. Функция `reduce(array, callback, initialValue)`

Функция последовательно обрабатывает элементы массива, накапливая результат в аккумуляторе.

Например, если у вас есть массив чисел и вы хотите получить их сумму, вы можете использовать `reduce` для этого.

_Требования_:

- Принимает три аргумента:
  - `array` - массив
  - `callback` - функция обратного вызова. Колбэк принимает четыре аргумента:
  - `initialValue` - начальное значение аккумулятора

- Для каждого элемента массива вызывает переданный колбэк.
  - Колбэк должен принимать четыре аргумента: аккумулятор, текущий элемент, индекс элемента и весь массив.

    ```js
    callback(accumulator, element, index, array);
    ```

  - _Третий и четвертый аргументы являются необязательными_. Если колбэк принимает только два аргумента, он должен работать корректно.
  - Колбэк должен возвращать новое значение аккумулятора после обработки текущего элемента.
  - Если `initialValue` не предоставлено, первый элемент массива используется в качестве начального значения аккумулятора, а обработка начинается со второго элемента.
  - Если `initialValue` предоставлено, аккумулятор инициализируется этим значением, а обработка начинается с первого элемента массива.
  - Если массив пустой и `initialValue` не предоставлено, функция должна вернуть `undefined`.

- Функция возвращает итоговое значение аккумулятора после обработки всех элементов массива.
- Обход массива должен происходить слева направо.
- После завершения обхода вернуть итоговое значение аккумулятора.

_Пример использования:_

```javascript
const numbers = [1, 2, 3, 4, 5];

const sum = reduce(numbers, (accumulator, element) => accumulator + element, 0);

console.log(sum); // 15
```

## Документирование кода

Код должен быть корректно задокументирован, используя стандарт `JSDoc`. Каждая функция и метод должны быть описаны с указанием их входных параметров, выходных данных и описанием функционала. Комментарии должны быть понятными, четкими и информативными, чтобы обеспечить понимание работы кода другим разработчикам.

## Контрольные вопросы

1. В чем преимущества использования колбэков при работе с массивами?
2. Какие проблемы могут возникать при использовании колбэков и как их избежать?
3. Как реализовать функции `map`, `filter`, `find`, `some`, `every` и `reduce` без использования встроенных методов массивов?