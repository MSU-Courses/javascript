# Лабораторная работа №4. Работа с DOM-деревом и событиями в JavaScript

_Вариант 2_

## Цель работы

Научиться работать с DOM-элементами, управлять динамическим добавлением и удалением объектов, взаимодействовать с HTML-элементами с помощью событий (`onClick`, `onHover`) и использовать делегирование событий.

## Условие

### Шаг 1. Настройка проекта

1. Создайте файл `index.html`.
2. Создайте файл `script.js`.
3. Создайте файл `style.css`.
4. Подключите `script.js` и `style.css` к HTML-странице.

### Шаг 2. Создание классов `Item` и `Weapon`

1. **Класс `Item` (базовый класс предмета)**

   - Поля:
     - `id` – уникальный идентификатор предмета.
     - `name` – название предмета.
     - `category` – категория (`armor`, `weapon`, `potion`).
     - `rarity` – редкость (`common`, `uncommon`, `rare`, `legendary`).
     - `description` – описание предмета.
   - Методы:
     - `getInfo()` – возвращает строку с информацией о предмете.

2. **Класс `Weapon` (наследуется от `Item`)**
   - Дополнительные поля:
     - `damage` – урон оружия.
   - Методы:
     - `attack()` – выводит сообщение `"Оружие {name} нанесло {damage} урона!"`.

### Шаг 3. Создание HTML-интерфейса

Создайте **форму** для добавления предметов и **таблицу** для отображения инвентаря.

**Пример HTML**:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Инвентарь</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h1>Инвентарь</h1>

    <input type="text" id="item-name" placeholder="Название предмета" />
    <select id="item-category">
      <option value="weapon">Оружие</option>
      <option value="armor">Броня</option>
      <option value="potion">Зелье</option>
    </select>
    <select id="item-rarity">
      <option value="common">Обычный</option>
      <option value="uncommon">Необычный</option>
      <option value="rare">Редкий</option>
      <option value="legendary">Легендарный</option>
    </select>
    <input type="text" id="item-description" placeholder="Описание предмета" />
    <button id="add-item">Добавить предмет</button>

    <table id="inventory">
      <thead>
        <tr>
          <th>Название</th>
          <th>Категория</th>
          <th>Редкость</th>
          <th>Действие</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <div id="item-details"></div>

    <script src="script.js"></script>
  </body>
</html>
```

### Шаг 4. Добавление предметов в таблицу

1. Реализуйте функцию `addItemToInventory()`, которая:

   - Создаёт объект `Item` и добавляет его в массив `inventory`.
   - Создаёт строку таблицы с данными предмета.
   - Если предмет **легендарный**, строка таблицы должна быть **золотого цвета**.
   - Если предмет **обычный**, строка таблицы должна быть **серого цвета**.

### Шаг 5. Управление предметами

1. Добавьте обработчик **нажатия на кнопку удаления** с использованием **делегирования событий** (Обработчик событий на `клик` на кнопку определите для элемента `<table>`).

### Шаг 6. Отображение информации о предмете

1. В файле `index.html` создайте блок для отображения подробного описания предмета.
2. При наведении на строку с предметом в таблице, отображайте полное описание в элементе `<div>` или `<p>` ниже инвентаря.

### Шаг 7. Дополнительные задания

1. **Добавьте анимацию при удалении предмета** (он плавно исчезает перед удалением).
   
## Документирование кода

Код должен быть корректно задокументирован, используя стандарт `JSDoc`. Каждая функция и метод должны быть описаны с указанием их входных параметров, выходных данных и описанием функционала. Комментарии должны быть понятными, четкими и информативными, чтобы обеспечить понимание работы кода другим разработчикам.

## Контрольные вопросы

1. Как работает `event.target` при делегировании событий?
2. В чем разница между `innerHTML` и `textContent`?
3. Как изменить стили элемента через JavaScript?
4. Как добавить новый элемент в DOM-дерево с помощью JavaScript?
